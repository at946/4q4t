<%= form_with(model: member, url: url, local: true) do |form| %>
  <% if member.errors.any? %>
    <div class="pb-2">
      <ul>
        <% member.errors.full_messages.each do |message| %>
          <li class="text-alert"><%= message %>.</li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-3">
    <%= form.text_field :name, class: "input", placeholder: Member.human_attribute_name(:name), autofocus: true %>
  </div>

  <div class="mb-2">
    <div class="card card-primary">
      <p>Q1. 自分は何が得意なのか？</p>
      <div class="mt-1">
        <%= form.text_field :ans_q1, name: "member[ans_q1][]", value: member.ans_q1.to_a[0], id: :member_ans_q1_1, class: 'input mb-1' %>
        <%= form.text_field :ans_q1, name: "member[ans_q1][]", value: member.ans_q1.to_a[1], id: :member_ans_q1_2, class: 'input mb-1' %>
        <%= form.text_field :ans_q1, name: "member[ans_q1][]", value: member.ans_q1.to_a[2], id: :member_ans_q1_3, class: 'input mb-1' %>
      </div>
    </div>
  </div>

  <div class="mb-2">
    <div class="card card-primary">
      <p>Q2. 自分はどんなふうに仕事をするか？</p>
      <div class="mt-1">
        <%= form.text_field :ans_q2, name: "member[ans_q2][]", value: member.ans_q2.to_a[0], id: :member_ans_q2_1, class: 'input mb-1' %>
        <%= form.text_field :ans_q2, name: "member[ans_q2][]", value: member.ans_q2.to_a[1], id: :member_ans_q2_2, class: 'input mb-1' %>
        <%= form.text_field :ans_q2, name: "member[ans_q2][]", value: member.ans_q2.to_a[2], id: :member_ans_q2_3, class: 'input mb-1' %>
      </div>
    </div>
  </div>
  
  <div class="mb-2">
    <div class="card card-primary">
      <p>Q3. 自分が大切に思う価値は何か？</p>
      <div class="mt-1">
        <%= form.text_field :ans_q3, name: "member[ans_q3][]", value: member.ans_q3.to_a[0], id: :member_ans_q3_1, class: 'input mb-1' %>
        <%= form.text_field :ans_q3, name: "member[ans_q3][]", value: member.ans_q3.to_a[1], id: :member_ans_q3_2, class: 'input mb-1' %>
        <%= form.text_field :ans_q3, name: "member[ans_q3][]", value: member.ans_q3.to_a[2], id: :member_ans_q3_3, class: 'input mb-1' %>
      </div>
    </div>
  </div>

  <div class="mb-2">
    <div class="card card-primary">
      <p>Q4. チームメンバーは自分にどんな成果を期待してるか？</p>
      <div class="mt-1">
        <%= form.text_field :ans_q4, name: "member[ans_q4][]", value: member.ans_q4.to_a[0], id: :member_ans_q4_1, class: 'input mb-1' %>
        <%= form.text_field :ans_q4, name: "member[ans_q4][]", value: member.ans_q4.to_a[1], id: :member_ans_q4_2, class: 'input mb-1' %>
        <%= form.text_field :ans_q4, name: "member[ans_q4][]", value: member.ans_q4.to_a[2], id: :member_ans_q4_3, class: 'input mb-1' %>
      </div>
    </div>
  </div>

  <div>
    <%= form.hidden_field :team_id %>
  </div>

  <% if create %>
    <button type="submit" id="create_member_button" class="button bg-accent">Answer</button>
  <% else %>
    <button type="submit" id="update_member_button" class="button mb-2 bg-accent">Update</button><br>
    <%= link_to "Delete", destroy_member_path(member), method: :delete, id: "delete_member_button", class: "text-alert", data: { confirm: "メンバーの削除は元に戻すことができません。本当に削除しますか？" } %>
  <% end %>
<% end %>